:-dynamic	gpe_subsidiaries/2.
:-dynamic	org_alternate_names/2.
:-dynamic	org_city_of_headquarters/2.
:-dynamic	org_country_of_headquarters/2.
:-dynamic	org_date_dissolved/2.
:-dynamic	org_date_founded/2.
:-dynamic	org_dissolved/2.
:-dynamic	org_founded/2.
:-dynamic	org_founded_by/2.
:-dynamic	org_member_of/2.
:-dynamic	org_members/2.
% :-dynamic	org_number_of_employees/members/2. questo causa problemi per lo / nel nome 
:-dynamic	org_parents/2.
% :-dynamic	org_political/religious_affiliation/2. questo causa problemi per lo / nel nome 
:-dynamic	org_shareholders/2.
:-dynamic	org_stateorprovince_of_headquarters/2.
:-dynamic	org_subsidiaries/2.
% :-dynamic	org_top_members/employees/2. questo causa problemi per lo / nel nome 
:-dynamic	org_website/2.
:-dynamic	per_age/2.
:-dynamic	per_alternate_names/2.
:-dynamic	per_cause_of_death/2.
:-dynamic	per_charges/2.
:-dynamic	per_children/2.
:-dynamic	per_cities_of_residence/2.
:-dynamic	per_city_of_birth/2.
:-dynamic	per_city_of_death/2.
:-dynamic	per_countries_of_residence/2.
:-dynamic	per_country_of_birth/2.
:-dynamic	per_country_of_death/2.
:-dynamic	per_date_of_birth/2.
:-dynamic	per_date_of_death/2.
:-dynamic	per_employee_of/2.
:-dynamic	per_member_of/2.
:-dynamic	per_origin/2.
:-dynamic	per_other_family/2.
:-dynamic	per_parents/2.
:-dynamic	per_religion/2.
:-dynamic	per_schools_attended/2.
:-dynamic	per_siblings/2.
:-dynamic	per_spouse/2.
:-dynamic	per_stateorprovince_of_birth/2.
:-dynamic	per_stateorprovince_of_death/2.
:-dynamic	per_stateorprovinces_of_residence/2.
:-dynamic	per_title/2.

is_a('philanthropist','title').
is_a('october 28, 1955','date').
is_a('may 2014','date').
is_a('1980s','date').
org_stateorprovince_of_headquarters('dos','ms').
is_a('ceo','title').
per_title('william henry gates iii','architect').
per_title('william henry gates iii','co-founder').
per_stateorprovince_of_birth('william henry gates iii','washington').
per_schools_attended('william henry gates iii','bill & melinda gates foundation').
per_title('william henry gates iii','developer').
per_title('william henry gates iii','magnate').
per_alternate_names('william henry gates iii','satya nadella').
per_employee_or_member_of('william henry gates iii','bill & melinda gates foundation').
per_city_of_birth('william henry gates iii','seattle').
per_alternate_names('william henry gates iii','melinda william henry gates iii').
is_a('william henry gates iii','person').
per_title('william henry gates iii','ceo').
per_spouse('william henry gates iii','melinda william henry gates iii').
per_origin('william henry gates iii','american').
per_date_of_birth('william henry gates iii','october 28 , 1955').
per_title('william henry gates iii','chairman').
per_date_of_birth('william henry gates iii','january 2000').
per_title('william henry gates iii','philanthropist').
per_spouse('william henry gates iii','ray ozzie').
per_employee_or_member_of('william henry gates iii','microsoft corporation').
org_subsidiaries('microsoft microsoft corporation','danger inc.').
org_stateorprovince_of_headquarters('microsoft microsoft corporation','washington').
org_city_of_headquarters('microsoft microsoft corporation','redmond').
org_country_of_headquarters('microsoft microsoft corporation','united states').
org_founded_by('microsoft microsoft corporation','william henry gates iii').
org_parents('microsoft microsoft corporation','nokia').
org_date_founded('danger inc.',2008).
org_parents('danger inc.','nokia').
org_shareholders('danger inc.','microsoft microsoft corporation').
org_top_members_employees('amazon','jeff bezos').
org_date_founded('nokia','june 2012').
is_a('co-founder','title').
org_alternate_names('bill & melinda gates foundation','microsoft corporation').
org_date_founded('bill & melinda gates foundation','january 2000').
org_top_members_employees('bill & melinda gates foundation','melinda william henry gates iii').
org_date_dissolved('bill & melinda gates foundation','october 28 , 1955').
org_date_founded('bill & melinda gates foundation','october 28 , 1955').
org_top_members_employees('bill & melinda gates foundation','william henry gates iii').
is_a('american','nationality').
is_a('architect','title').
per_title('steve ballmer','ceo').
is_a('magnate','title').
is_a('1970s','date').
org_country_of_headquarters('united united states of america of america','united states').
is_a('one','number').
per_alternate_names('satya nadella','william henry gates iii').
per_title('satya nadella','ceo').
per_employee_or_member_of('satya nadella','microsoft corporation').
is_a('chairman','title').
is_a('developer','title').
per_employee_or_member_of('gates','microsoft corporation').
per_title('gates','president').
per_title('gates','chairman').
per_title('gates','ceo').
per_title('gates','architect').
is_a('gates','person').
is_a('president','title').
per_employee_or_member_of('paul allen','microsoft corporation').
per_statesorprovinces_of_residence('paul allen','new mexico').
per_cities_of_residence('paul allen','albuquerque').
per_spouse('melinda william henry gates iii','melinda william henry gates iii').
per_date_of_birth('melinda william henry gates iii','june 2006').
per_alternate_names('melinda william henry gates iii','william henry gates iii').
per_cities_of_residence('melinda william henry gates iii','albuquerque').
per_statesorprovinces_of_residence('melinda william henry gates iii','new mexico').
per_schools_attended('melinda william henry gates iii','microsoft corporation').
per_title('melinda william henry gates iii','architect').
per_employee_or_member_of('melinda william henry gates iii','microsoft corporation').
per_title('melinda william henry gates iii','ceo').
per_schools_attended('melinda william henry gates iii','bill & melinda gates foundation').
per_date_of_birth('melinda william henry gates iii','october 28 , 1955').
per_title('melinda william henry gates iii','president').
per_title('melinda william henry gates iii','chairman').
per_spouse('melinda william henry gates iii','william henry gates iii').
per_date_of_birth('melinda william henry gates iii','january 2000').
per_title('jeff bezos','ceo').
per_title('jeff bezos','founder').
per_employee_or_member_of('jeff bezos','amazon').
org_top_members_employees('microsoft corporation','gates').
org_top_members_employees('microsoft corporation','william henry gates iii').
org_stateorprovince_of_headquarters('microsoft corporation','new mexico').
org_city_of_headquarters('microsoft corporation','albuquerque').
org_date_founded('microsoft corporation','october 28 , 1955').
org_top_members_employees('microsoft corporation','satya nadella').
org_date_dissolved('microsoft corporation','october 28 , 1955').
org_founded_by('microsoft corporation','melinda william henry gates iii').
org_alternate_names('microsoft corporation','bill & melinda gates foundation').
is_a('microsoft corporation','organization').
org_date_founded('microsoft corporation','january 2000').
org_top_members_employees('microsoft corporation','melinda william henry gates iii').


%utility
	print_person:- is_a(X,'person'),write(X),nl,fail.
	print_person.
	my_print(X,TEXT,Y) :- format('~w ~s ~w ~n', [X,TEXT,Y]). 


	%if an element has an per_... fact he is a person so we assert the fact is_a person, assert several time the same facts
	
	find_person:- per_title(X,_),\+is_a(X,'person'),write(X),assert(is_a(X,'person')) ,nl,fail.% ricorsione
	
	find_person:- per_date_of_birth(X,_),\+is_a(X,'person'),write(X),assert(is_a(X,'person')) ,nl,fail.

	find_person:- per_date_of_death(X,_),\+is_a(X,'person'),write(X),assert(is_a(X,'person')) ,nl,fail.
	find_person.

	
% to prevent exception when fact are not found :- dynamic dead/1. 

%title of a person
title_of_person(X) :-is_a(X,'person'),per_title(X,Y),my_print(X,'has the title of',Y),nl,fail.
title_of_person(_).

%employee of an organization
organization_employee(X) :- is_a(X,'organization'),is_a(Y,'person'),per_employee_or_member_of(Y,X),my_print(Y,'member of',X),nl,fail.
rganization_employee(_).

% ---------work for a company----------
work_for(PERSON,COMPANY) :- per_employee_or_member_of(PERSON,COMPANY).
work_for(PERSON,COMPANY) :- per_employee_of(PERSON,COMPANY).

% ---------coworker for a company----------
coworker(X,Y) :- work_for(X,COMPANY), work_for(Y,COMPANY),my_print('',' coworker in',COMPANY).

% if a person is dead
dead(X):- is_a(X,'person'), per_date_of_death(X,_).

dead(X):- is_a(X,'person'), per_cause_of_death(X,_).

dead(X):- is_a(X,'person'), per_city_of_death(X,_).
 
dead(X):- is_a(X,'person'), per_country_of_death(X,_).


% ---------information about death of a person----------

%age of a dead person, non funziona per anni in formato date
age_death(PERSON):- dead(PERSON),per_date_of_birth(PERSON,Y),per_date_of_death(PERSON,Z), R is Z-Y,my_print(PERSON,"is dead at the age of",R). 

%when a person is dead
when_dead(PERSON):- per_date_of_death(PERSON,DATE), my_print(PERSON," is dead in ",DATE).

%why a person is dead
why_dead(PERSON):- dead(PERSON),per_cause_of_death(PERSON,DISEASE),my_print(PERSON,"is dead because of",DISEASE).

%say if a person is dead when and why
is_dead(PERSON):- dead(PERSON),when_dead(PERSON),why_dead(PERSON).


% ---------information about birth of a person----------

birth(PERSON) :- per_date_of_birth(PERSON,DATE), my_print(PERSON,"was born on ",DATE).
birth(PERSON) :- per_country_of_birth(PERSON,COUNTRY), my_print(PERSON,"was born in",COUNTRY).
birth(PERSON) :- per_city_of_birth(PERSON,CITY), my_print(PERSON,"was born in",CITY).
birth(PERSON) :- per_stateorprovince_of_birth(PERSON,PROVINCE), my_print(PERSON,"was born in the province of",PROVINCE).
birth(PERSON) :- pr_date_of_birth(PERSON,DATE),per_country_of_birth(PERSON,COUNTRY), my_print(PERSON,"was born on",DATE),my_print(''," in",COUNTRY).

% ---------bio of a person----------
bio(X) :- birth(X).